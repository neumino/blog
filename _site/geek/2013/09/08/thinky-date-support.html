

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
        <title>Justonepixel.com - Thinky v0.2.15 - But what is it?</title>
        
        <meta name="author" content="Michel">

        <!-- Enable responsive viewport -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <link rel="stylesheet" type="text/css" href="/assets/themes/justonepixel/bootstrap/css/bootstrap.2.2.2.min.css"/>
      <link rel="stylesheet" type="text/css" href="/assets/themes/justonepixel/css/style.css?body=1"/>

        <!-- atom & rss feed -->
        <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
        <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
    </head>

    <body>
    <div class="wrapper container">
    <div class="row">
        <div class="span1 offset1">
            <div class="navbar">
                <ul>
                    <li><a href="/"><img src="/assets/themes/justonepixel/img/home.png" /></a></li>
                    <li><a href="/about.html"><img src="/assets/themes/justonepixel/img/about.png" /></a></li>
                    <li><a href="/contact.html"><img src="/assets/themes/justonepixel/img/contact.png" /></a></li>
                    <li><a href="/archive.html"><img src="/assets/themes/justonepixel/img/archive.png" /></a></li>
                    <li><a href="/search.html"><img src="/assets/themes/justonepixel/img/search.png" /></a></li>
                    <li><a href="https://github.com/neumino"><img src="/assets/themes/justonepixel/img/github.png" /></a></li>
                    <li><a href="http://www.strava.com/athletes/1952902"><img src="/assets/themes/justonepixel/img/strava.png" /></a></li>
                    <li><a href="https://twitter.com/neumino"><img src="/assets/themes/justonepixel/img/twitter.png" /></a></li>
                    <li><a href="https://www.facebook.com/michel.tu"><img src="/assets/themes/justonepixel/img/facebook.png" /></a></li>
                    <li><a href="http://www.linkedin.com/in/tumichel"><img src="/assets/themes/justonepixel/img/linkedin.png" /></a></li>
                    <li><a href="https://plus.google.com/u/0/111745051853861893359/posts"><img src="/assets/themes/justonepixel/img/googleplus.png" /></a></li>
                </ul>
            </div>
        </div>

        <div class="span9">

            <div class="content">
                

<div class="post">
<i class="icon-post"></i>

    <h2>
        <a href="/geek/2013/09/08/thinky-date-support" class="title">Thinky v0.2.15 - But what is it?</a>
        <span class="meta_info">posted on 08 September 2013</span>
    </h2>

    
<p>I just updated <a href="https://github.com/neumino/thinky">thinky</a> with dates and just
thought that it would be nice to jump on the occasion to talk a little about this
project.</p>

<h3 id="what-is-it">What is it?</h3>

<p>Thinky is a JavaScript ORM for RethinkDB.</p>

<h3 id="other-javascript-orm">Other JavaScript ORM</h3>

<p>As far as I know there is just one other JavaScript ORM for RethinkDB, which is
a plugin for <a href="https://github.com/1602/jugglingdb">jugglingdb</a> named <a href="https://github.com/fuwaneko/jugglingdb-rethink">jugglingdb-rethink</a>.
The goal of jugglingdb is to provide an ORM with one syntax that would
work on many databases, including MySQL, Redis, MongoDB etc.</p>

<p>I tend to think that ReQL has a really great API - but that may be my biased point
of view. Anyway, I would rather not use an API that uses JSON
to represent relations like <code class="highlighter-rouge">in</code> or logic operators like <code class="highlighter-rouge">and</code>. Thinky aims to
provide an API as nice as the official Node driver.</p>

<h3 id="so-what-is-in-the-box">So what is in the box?</h3>

<p>Thinky aims to stick close to the official node driver. A few differences are:</p>

<ul>
  <li>
    <p>You can set default values when creating an object (including functions
that would be called when the object is being created), so if you want to
store the date at which an object is created, you can use this schema</p>

    <p><code class="highlighter-rouge">js
  var Cat = thinky.createModel('Cat',
      {
          name: String,
          createdAt: {_type: Date, default: function() { return new Date() }}
      }); 
  var kitty = new Cat({
      name: "Kitty"
  });
  // kitty will have a field `createdAt`.
 </code></p>
  </li>
  <li>
    <p>You can pass the callback directly to the last method instead of using the
<code class="highlighter-rouge">run</code> command. So these two syntax are the same</p>

    <p><code class="highlighter-rouge">js
  Cat.get('3851d8b4-5358-43f2-ba23-f4d481358901', callback);
  Cat.get('3851d8b4-5358-43f2-ba23-f4d481358901').run(callback);
 </code></p>
  </li>
  <li>
    <p>You can define methods on your schemas, making your code look more like a
object oriented program.</p>

    <p>```js
  var Cat = thinky.createModel(‘Cat’, { name: String }); 
  Cat.define(‘sayHello’, function() { console.log(“Hello, I’m “+this.name) });
  var kitty = new Cat({ name: “Kitty” });
  kitty.sayHello()</p>

    <p>```</p>
  </li>
  <li>
    <p>Because you define schemas and relations, doing a <code class="highlighter-rouge">JOIN</code> operation is as
simple as calling the <code class="highlighter-rouge">getJoin</code> method.</p>

    <p>```js
  Cat = thinky.createModel(‘Cat’, {id: String, name: String});
  Task = thinky.createModel(‘Task’, {id: String, task: String, catId: String});
  Cat.hasMany(Task, ‘tasks’, {leftKey: ‘id’, rightKey: ‘catId’});</p>

    <p>Cat.get( ‘b7588193-7fb7-42da-8ee3-897392df3738’).getJoin( function(err, result) {
      // Returns a cat with its tasks
  })
  ```</p>
  </li>
</ul>

<p><em>Note</em>: Some limitations exists about <code class="highlighter-rouge">getJoin</code> now and should be solved once
the proposal described <a href="https://github.com/neumino/thinky/issues/19#issuecomment-24032730">here</a>
will be implemented.</p>

<h3 id="awesome-how-do-i-get-it">Awesome, how do I get it?</h3>

<p>There is an npm package, just run</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install thinky
</code></pre>
</div>

<p>And you should be all set.</p>

<h3 id="nice-how-can-i-help">Nice, how can I help?</h3>

<p>Any bug reports, suggestions, pull requests (code or docs) are more than welcome!</p>


    
    <ul class="tag_box inline">
        <li><i class="icon-folder-open"></i></li>
        
        


  
     
    	<li><a href="/categories.html#Geek-ref">
    		Geek <span>43</span>
    	</a></li>
    
  


    </ul>
      

    
    <ul class="tag_box inline">
        <li><i class="icon-tags"></i></li>
        
        


  
     
    	<li><a href="/tags.html#thinky-ref">thinky <span>8</span></a></li>
     
    	<li><a href="/tags.html#rethinkdb-ref">rethinkdb <span>21</span></a></li>
     
    	<li><a href="/tags.html#date-ref">date <span>1</span></a></li>
    
  



    </ul>
      

    
    <hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog.justonepixel.com -->
<ins class="adsbygoogle"
     style="display:inline-block;width:468px;height:60px"
     data-ad-client="ca-pub-5366199723595534"
     data-ad-slot="2620298801"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
    <hr>
    <div class="pagination">
        <ul>
            
            <li class="prev"><a href="/blog/2013/09/06/blog-moving-github" title="Moving my blog to Github">&larr; Previous</a></li>
            
            <li><a href="/archive.html">Archive</a></li>
            
            <li class="next"><a href="/geek/2013/09/12/rocco-and-redcarpet" title="Roco and Redcarpet">Next &rarr;</a></li>
            
        </ul>
    </div>
    <hr>
</div>


            </div>

            <footer>
                <p>Michel Tu
                &mdash;
                <a href="mailto:michel@justonepixel.com">michel@justonepixel.com</a>
                &mdash;
                <a href="http://blog.justonepixel.com">http://blog.justonepixel.com</a></p>
            </footer>

        </div>
    </div>
    </div>
    <noscript id="deferred-styles">
      <link rel="stylesheet" type="text/css" href="/assets/themes/justonepixel/bootstrap/css/bootstrap.2.2.2.min.css"/>
      <link rel="stylesheet" type="text/css" href="/assets/themes/justonepixel/css/style.css?body=1"/>
    </noscript>
    <script>
      var loadDeferredStyles = function() {
        var addStylesNode = document.getElementById("deferred-styles");
        var replacement = document.createElement("div");
        replacement.innerHTML = addStylesNode.textContent;
        document.body.appendChild(replacement)
        addStylesNode.parentElement.removeChild(addStylesNode);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(function() { window.setTimeout(loadDeferredStyles, 0); });
      else window.addEventListener('load', loadDeferredStyles);
    </script>
		
    </body>
</html>

